<!DOCTYPE html>
<html class="no-js theme-{{ preferences.get_value('simple_style') or 'auto' }} center-alignment-{{ preferences.get_value('center_alignment') and 'yes' or 'no' }}" lang="{{ locale_rfc5646 }}" {% if rtl %} dir="rtl"{% endif %}>
<head>
  <meta charset="UTF-8">
  <meta name="endpoint" content="{{ endpoint }}">
  <meta name="description" content="Flight Search — a kid-safe, privacy-respecting search engine with SafeSearch enforced and AI overviews">
  <meta name="keywords" content="Flight Search, kid safe search engine, safe search for kids, child friendly search, school search engine, filtered search">
  <meta name="rating" content="General">
  <meta name="RATING" content="RTA-5042-1996-1400-1577-RTA">
  <meta name="referrer" content="no-referrer">
  <meta name="robots" content="noarchive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}{% endblock %}{{ instance_name }}</title>
  <script type="module" src="{{ url_for('static', filename='sxng-core.min.js') }}" client_settings="{{ client_settings }}"></script>
  {% block meta %}{% endblock %}
  {% if rtl %}
  <link rel="stylesheet" href="{{ url_for('static', filename='sxng-rtl.min.css') }}" type="text/css" media="screen">
  {% else %}
  <link rel="stylesheet" href="{{ url_for('static', filename='sxng-ltr.min.css') }}" type="text/css" media="screen">
  {% endif %}
  {% if get_setting('server.limiter') or get_setting('server.public_instance') %}
  <link rel="stylesheet" href="{{ url_for('client_token', token=link_token) }}" type="text/css">
  {% endif %}
  {% block head %}
  <link title="{{ instance_name }}" type="application/opensearchdescription+xml" rel="search" href="{{ opensearch_url }}">
  {% endblock %}
  <link rel="icon" href="{{ url_for('static', filename='img/favicon.png') }}?v=2" sizes="any">
  <link rel="icon" href="{{ url_for('static', filename='img/favicon.svg') }}?v=2" type="image/svg+xml">
  <link rel="apple-touch-icon" href="{{ url_for('static', filename='img/favicon.png') }}?v=2">
</head>
<body class="{{ endpoint }}_endpoint" >
  <main id="main_{{  self._TemplateReference__context.name|replace("simple/", "")|replace(".html", "") }}" class="{{body_class}}">
    {% if errors %}
        <div class="dialog-error" role="alert">
            <a href="#" class="close" aria-label="close" title="close">×</a>
            <ul>
            {% for message in errors %}
                <li>{{ message }}</li>
            {% endfor %}
            </ul>
        </div>
    {% endif %}

    <nav id="links_on_top">
      {%- from 'simple/icons.html' import icon_big -%}
      {%- block linkto_about -%}
        <a href="{{ url_for('info', pagename='about') }}" class="link_on_top_about">{{ icon_big('information-circle') }}<span>{{ _('About') }}</span></a>
      {%- endblock -%}
      {%- block linkto_donate -%}
        {%- if donation_url -%}
        <a href="{{ donation_url }}" class="link_on_top_donate">{{ icon_big('heart') }}<span>{{ _('Donate') }}</span></a>
        {%- endif -%}
      {%- endblock -%}
      {%- block linkto_preferences -%}
        {%- if request.args.get('preferences') -%}
          <a href="{{ url_for('preferences') }}?preferences={{ request.args.get('preferences') }}&preferences_preview_only=true" class="link_on_top_preferences">{{ icon_big('settings') }}<span>{{ _('Preferences') }}</span></a>
        {%- else -%}
          <a href="{{ url_for('preferences') }}" class="link_on_top_preferences">{{ icon_big('settings') }}<span>{{ _('Preferences') }}</span></a>
        {%- endif -%}
      {%- endblock -%}
    </nav>
    {% block header %}
    {% endblock %}
    {% block content %}
    {% endblock %}
  </main>
  <footer style="min-height:auto;padding:6px 0;overflow:visible">
    <p style="margin:0;padding:0;font-size:.8em;opacity:.65;line-height:1.4">
      <a href="{{ url_for('info', pagename='about') }}">About&nbsp;&amp;&nbsp;Legal</a>
      | <a href="https://github.com/yethdev/Flight-Search" target="_blank" rel="noopener">GitHub</a>
      {% if enable_metrics %}| <a href="{{ url_for('stats') }}">{{ _('Engine stats') }}</a>{% endif %}
    </p>
  </footer>
  <div id="tos-banner" style="display:none;position:fixed;bottom:0;left:0;right:0;background:var(--color-base-background);color:var(--color-base-font);padding:14px 20px;font-size:.9em;z-index:9999;box-shadow:0 -2px 8px rgba(0,0,0,.25);text-align:center;border-top:1px solid var(--color-header-border, #ddd)">
    By using Flight Search you agree to our
    <a href="{{ url_for('info', pagename='about') }}" style="color:var(--color-url-font);text-decoration:underline">Terms of Service and Privacy Policy</a>.
    Flight Search is not affiliated with, endorsed by, or sponsored by any third-party search engine or provider.
    No personal data is collected. SafeSearch is always on but no filter is perfect. Parental supervision is recommended.
    <button id="tos-accept" style="margin-left:16px;padding:6px 18px;background:#4CAF50;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.9em">I Agree</button>
  </div>
  <script>
  (function(){
    var k='fs_tos_accepted';
    function lockSearch(){
      document.querySelectorAll('form[action]').forEach(function(f){
        if(f.querySelector('input[name="q"]')){
          f.addEventListener('submit',function(e){ if(!localStorage.getItem(k)){e.preventDefault();document.getElementById('tos-banner').style.display='block';} });
        }
      });
      var q=document.getElementById('q');
      if(q&&!localStorage.getItem(k)){q.setAttribute('placeholder','Accept the Terms of Service to search');}
    }
    if(!localStorage.getItem(k)){document.getElementById('tos-banner').style.display='block';}
    document.getElementById('tos-accept').addEventListener('click',function(){
      localStorage.setItem(k,'1');
      document.getElementById('tos-banner').style.display='none';
      var q=document.getElementById('q');
      if(q){q.setAttribute('placeholder','');q.focus();}
    });
    if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',lockSearch);}else{lockSearch();}
  })();
  </script>
</body>
</html>
